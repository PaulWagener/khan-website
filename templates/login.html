{% extends "page_template.html" %}
{% block meta_page_title %}Sign In | {% endblock meta_page_title %}
{% block pagetitle %}{% endblock pagetitle %}

{% block pagecss %}
    {{ js_css_packages.css_package("login") }}
{% endblock pagecss %}

{% block pagecontent %}
<article id="page-root">
    <div class="login-container card-case vertical-shadow">
    <form method="POST" class="auth-form" id="login-form" action="{{templatetags.to_secure_url('/login')}}?continue={{continue|urlencode}}">

    <ul class="providers">
    <h3>Login to Khan Academy with</h3>
    <li class="action-gradient" id="login-google">
        <div class="img-container">
            <a href="{{google_url}}">
                <img width="180" height="65" alt="Google" src="/images/google-logo-large.png" >
            </a>
        </div>
    </li>

    <br>

    {% if App.facebook_app_secret %}
    <li id="login-facebook" class="action-gradient">
        <div class="img-container">
        <img width="180" height="65" alt="Facebook" src="/images/facebook-logo-large.png" >
        </div>
    </li>
    {% endif %}
    </ul>

    <div class="vertical-separator">
        <span class="separator-text">OR</span>
    </div>

    <div class="pw-login">
        <h3>Login with a Khan Academy account:</h3>
        {# Use a whitespace to force the div to be non-empty and take space in the layout #}
        <div class="field-error" id="login-fail-message">&nbsp;</div>

        <img src="/images/hand-tree.png" class="tree">
        <div class="field-container">
            <label class="field-label" for="identifier">Email or username</label>
            <input tabindex=1 id="identifier" name="identifier" class="simple-input ui-corner-all" value="{{ identifier|escape }}">
        </div>

        <div class="field-container">
            <label class="field-label password-label" for="password">Password</label>

            <div class="password-container">
                <input tabindex=2 id="password" name="password" type="password" class="simple-input ui-corner-all">
                <!-- TODO(benkomalo): wire up forgot password logic. -->
                <br>
                <a id="forgot-hint" href="javascript:void(0);">Forgot password?</a>
            </div>
        </div>

        <input tabindex=3 id="submit-button" class="simple-button action-gradient green" value="Login" type="button">

        <div class="signup-prompt-container">
            <span class="signup-prompt">Don't have an account yet?</span>
            <!-- TODO(benkomalo): do a nice animation and use Backbone.Router to animate in
                 new contents on browsers that can support it. -->
            <a class="signup-link" href="/signup?continue={{continue|urlencode}}">Create one</a>
        </div>
    </div>

    </form>
    </div>
</article>
{% endblock pagecontent %}

{% block bottompagescript %}
    {{ js_css_packages.js_package("login") }}
    <script>
    $(function() {
        Login.initLoginPage({
            continueUrl: {{ templatetags.jsonify(continue, camel_cased=True) }}
        });
    });
    </script>
{% endblock bottompagescript %}

