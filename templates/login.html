{% extends "page_template.html" %}
{% block meta_page_title %}Sign In | {% endblock meta_page_title %}
{% block pagetitle %}{% endblock pagetitle %}

{% block pagecss %}
    {{ js_css_packages.css_package("login") }}
{% endblock pagecss %}

{% block pagecontent %}
<article id="page-root">
    <form method="POST" class="auth-form" id="login-form" action="{{templatetags.to_secure_url('/login')}}?continue={{continue|urlencode}}">

    <ul class="providers">
    <h3>Login to Khan Academy using one of these services:</h3>
    <li class="action-gradient" id="login-google">
        <div class="img-container">
            <a href="{{google_url}}">
                <img width="205" height="70" alt="Google" src="/images/google-logo-large.png" >
            </a>
        </div>
    </li>

    {% if App.facebook_app_secret %}
    <li id="login-facebook" class="action-gradient">
        <div class="img-container">
        <img width="205" height="70" alt="Facebook" src="/images/facebook-logo-large.png" >
        </div>
    </li>
    {% endif %}
    </ul>

    <div class="separator"><img class="separator-bg" src="/images/hr.gif"><span class="separator-text">OR</span></div>

    <div class="pw-login">
        <h3>Login with a Khan Academy account:</h3>
        <div class="field-error" id="login-fail-message"></div>

        <div class="field-container">
            <label class="field-label" for="identifier">Email or username</label><br>
            <input tabindex=1 id="identifier" name="identifier" class="simple-input ui-corner-all" value="{{ identifier|escape }}">
        </div>

        <div class="field-container">
            <label class="field-label" for="password">Password</label>
            <!-- TODO(benkomalo): wire up forgot password logic. -->
            <a id="forgot-hint" href="javascript:void(0);">Forgot password?</a><br>

            <input tabindex=2 id="password" name="password" type="password" class="simple-input ui-corner-all">

            <!-- HACK: put login button in same fieldset/same row as password button for easy lining up -->
            <input tabindex=3 id="submit-button" class="simple-button action-gradient green" value="Login" type="button" style="margin-left:1em;">
        </div>

    </div>

    <div class="signup-prompt-container">
        <span class="signup-prompt">Don't have an account yet?</span>
        <!-- TODO(benkomalo): do a nice animation and use Backbone.Router to animate in
             new contents on browsers that can support it. -->
        <a class="signup-link" href="/signup?continue={{continue|urlencode}}">Sign up</a>
    </div>

    </form>
</article>
{% endblock pagecontent %}

{% block bottompagescript %}
    {{ js_css_packages.js_package("login") }}
    <script>
    $(Login.initLoginPage);
    </script>
{% endblock bottompagescript %}

